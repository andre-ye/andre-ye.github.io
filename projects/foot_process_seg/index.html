<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Foot Process Segmentation | Andre  Ye</title>
    <meta name="author" content="Andre  Ye">
    <meta name="description" content="Two-step segmentation of small and localized annotations">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%94&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://andre-ye.github.io/projects/foot_process_seg/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://andre-ye.github.io/"><span class="font-weight-bold">Andre </span>Ye</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">writing</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/writing/philosophy">Philosophy</a>
                  <a class="dropdown-item" href="/writing/does-philosophy-matter">Does philosophy matter?</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/ds_articles">Data Science Articles</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/fiction">Stories / Fiction</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/mdldna">Modern Deep Learning Design &amp; Applications</a>
                  <a class="dropdown-item" href="/writing/mdl4td">Modern Deep Learning for Tabular Data</a>
                </div>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">reading</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/reading/reading_list">Reading List</a>
                  <a class="dropdown-item" href="/reading/listening_list">Listening List</a>
                  <a class="dropdown-item" href="/reading/minima-moralia">Minima Moralia</a>
                  <a class="dropdown-item" href="/reading/trip-without-a-ticket">Trip Without a Ticket</a>
                </div>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Foot Process Segmentation</h1>
            <p class="post-description">Two-step segmentation of small and localized annotations</p>
          </header>

          <article>
            <table>
  <tbody>
    <tr>
      <td>Work performed at the Najafian Lab, UW Medicine – from March 2021 to May 2022. David Smerkous led the project. PI: Behzad Najafian. Presented work at the 2022 25th Undergraduate Research Symposium.</td>
    </tr>
  </tbody>
</table>

<p><br></p>

<p>In this project, I worked on developing a specialized computer vision system to solve specific technical challenges in kidney pathology. Previous clinical work by other members of the lab demonstrates that the average distance between adjacent ‘slits’ on the membrane of foot processes in the glomerulus are strong predictive signals for Fabry disease. Obtaining this signal provides helpful information for patient diagnosis and prognosis. Computer vision methods are needed to automatically detect these slits on electron microscopy cross-sections. However, these slits are very small proportional to the complete mask size; therefore optimization is a difficult problem due to severe class imbalance. We propose two techniques - windowing and dynamic dilation - which significantly improve segmentation performance. These two methods are summarized below:</p>

<ul>
  <li>
<strong>Windowing.</strong> Given that slits are located along the membrane, a model can be trained first to segment the membrane; afterwards, a second model can be trained to segment on localized windows along the membrane. This both reduces class imbalance severity and excises redundant context.</li>
  <li>
<strong>Dynamic dilation.</strong> A curriculum-learning approach is used to guide the segmentation model towards predicting precise slits: the masks are initially heavily dilated and blurred; then, gradually un-dilated and un-blurred over time. Dilating and blurring the masks diffuses the presence of slits and increases the strength of the learning signal.</li>
</ul>

<p><strong>Abstract for “A novel approach to segment specialized annotations in electron microscopy images of podocyte cells.”</strong>:</p>

<blockquote>
  <p>Podocyte cells reside in the glomerulus of the kidney and aid in urine filtration. Images of podocytes can be obtained through electron microscopy; certain cell features visually indicated on these images can be used to quantify the extent to which the podocyte filtering function has been impaired. Certain morphological features, such as foot process width, have been shown to correlate with disease progression. The current gold standard for measuring morphological features involves human measurements with traditional imaging software, which takes 6-8 hours per biopsy. Deep convolutional neural networks can be used to significantly decrease the time and labor required to obtain this quantification by identifying cell features in electron microscopy images, as has been demonstrated in many other bioimaging problems. However, when annotations are locality-specific and small, standard convolutional neural network approaches yield mediocre results. We present a novel approach for the segmentation of locality-specific annotations in cellular images and demonstrate its superior performance in identifying cell features on podocyte images. Firstly, we show that the problem of modeling small annotations consistently in proximity to a cross-image cell feature, like a membrane, can be simplified into a two-step modeling process: one model segments the cross-image cell feature, and dependent model segments on smaller windows along the predicted feature segmentation. Secondly, we show that dynamically dilating the size of small annotations from an inflated representation down to its original size over the duration of training improves model generalization. These findings allow for more robust modeling of locality-specific small cell segmentation tasks beyond podocyte cell feature identification.</p>
</blockquote>

<p>The manuscript for this work is in a deccelerated phase. I left the lab before the manuscript [will be] / [has been] completed.</p>

<!-- - [Initial progress report](https://andre-ye.github.io/files/najafian/Custom_Distance_Loss_Report.pdf) from June 2021 -->
<p>See <a href="https://andre-ye.github.io/files/najafian/URP%20Presentation.pdf" target="_blank">Undergraduate Research Symposium slides</a> from May 2022, where this work was demonstrated in an oral presentation.</p>

<iframe src="/assets\pdf\podocyte_seg.pdf" width="100%" height="400" style="border:1px solid black;"></iframe>

          </article>

        </div>

        <style>
          details {
            user-select: none;
          }

          details>summary span.icon {
            width: 24px;
            height: 10px;
            transition: all 0.3s;
            margin-left: auto;
          }

          details[open] summary span.icon {
            transform: rotate(180deg);
          }

          summary {
            display: flex;
            cursor: pointer;
          }

          summary::-webkit-details-marker {
            display: none;
          }
        </style>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Andre  Ye. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>.
Last updated: August 14, 2023.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
