<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Deep Learning for Tabular Data | Andre  Ye</title>
    <meta name="author" content="Andre  Ye">
    <meta name="description" content="Novel Methods to Solve Common Problems">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%A4%94&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://andre-ye.github.io/writing/mdl4td">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://andre-ye.github.io/"><span class="font-weight-bold">Andre </span>Ye</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/agenda/">agenda</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">writing</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/writing/philosophy">Philosophy</a>
                  <a class="dropdown-item" href="/writing/does-philosophy-matter">Does philosophy matter?</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/ds_articles">Data Science Articles</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/fiction">Stories / Fiction</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/writing/mdldna">Modern Deep Learning Design &amp; Applications</a>
                  <a class="dropdown-item" href="/writing/mdl4td">Modern Deep Learning for Tabular Data</a>
                </div>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">reading</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/reading/reading_list">Reading List</a>
                  <a class="dropdown-item" href="/reading/listening_list">Listening List</a>
                  <a class="dropdown-item" href="/reading/math-results">Cool Math Results</a>
                </div>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Deep Learning for Tabular Data</h1>
            <p class="post-description">Novel Methods to Solve Common Problems</p>
          </header>

          <article>
            <p><a href="https://link.springer.com/book/10.1007/978-1-4842-8692-0" class="btn" rel="external nofollow noopener" target="_blank">Springer Link</a> 
<a href="https://www.barnesandnoble.com/w/modern-deep-learning-for-tabular-data-andre-ye/1141877884?ean=9781484286913" class="btn" rel="external nofollow noopener" target="_blank">Barnes &amp; Noble</a> 
<a href="https://www.amazon.com/Modern-Deep-Learning-Tabular-Data/dp/148428691X" class="btn" rel="external nofollow noopener" target="_blank">Amazon</a></p>

<p>Read the foreword by Tomas Pfister (Head of AI @ Google Cloud) and Alok Sharma (Professor, Senior Scientist @ RIKEN Center), as well as the complete Introduction, in the front matter <a href="https://link.springer.com/content/pdf/bfm:978-1-4842-8692-0/1?pdf=chapter%20toc" rel="external nofollow noopener" target="_blank">here</a>.</p>

<p>Amazon Top Rankings</p>
<ul>
  <li>#1 for new releases in Information Theory</li>
  <li>#4 for new releases in Artificial Intelligence</li>
  <li>#23 in Artificial Intelligence</li>
  <li>#28 in Information Theory</li>
</ul>

<hr>

<p><img src="\assets\img\mdl4td.png" width="100%"></p>

<p><small>Left: book cover. Right: Little Mishi is engrossed in how t-SNE can be used to visualize the latent spaces of autoencoders.</small></p>

<hr>

<details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#deep-learning-is-not-worse-than-trees-on-tabular-data" id="markdown-toc-deep-learning-is-not-worse-than-trees-on-tabular-data">Deep learning is not ‘worse’ than trees on tabular data.</a></li>
  <li><a href="#book-description" id="markdown-toc-book-description">Book Description</a></li>
</ol>

</details>

<hr>

<h2 id="deep-learning-is-not-worse-than-trees-on-tabular-data">Deep learning is not ‘worse’ than trees on tabular data.</h2>
<p>Deep learning has become the public and private face of Artificial Intelligence. When one talks casually about Artificial Intelligence with friends at a party, strangers on the street, and colleagues at work, it is almost always on the exciting models which generate language, create art, synthesize music, and so on. Massive and intricately designed deep learning models power most of these exciting machine capabilities.</p>

<p>Many practitioners, however, are rightfully pushing back against the technological sensationalism of deep learning. While deep learning is “what’s cool”, it certainly is not the end-all be-all of modeling.</p>

<p>While deep learning has undoubtedly dominated specialized, high-dimensional data forms such as images, text, and audio, the general consensus is that it performs comparatively worse in tabular data.</p>

<p>It is therefore tabular data where those with some distaste, or even resentment, towards deep learning stake out their argument. (It was and still is fashionable to publish accepted deep learning papers which make seemingly trivial or even scientifically dubious modifications. This is one of the gripes against deep learning research culture articulated by many of my more classically minded colleagues in the space, which is fair.)</p>

<p>It is also fashionable now within this minority to bash the “fresh-minted new-generation data scientists” for being too enamored with deep learning, and instead to tout the comparatively more classic tree-based methods as instead the ‘best’ model for tabular data. You will find this perspective everywhere — in bold research papers, AI-oriented social media, research forums, and blog posts. Indeed, the counter-culture is often as fashionable as the mainstream culture, whether it is with hippies or deep learning.</p>

<p>This is not to say that there is no good research which points in favor of tree-based methods over deep learning — there certainly is. But too often this nuanced and contextualized research is mistaken and taken for a general rule, and those with a distaste for deep learning often commit to the same problematic doctrine as many advancing the state of deep learning: taking results obtained within a generally well-defined set of limitations and willfully extrapolating them in ways irrespective of said contextual bounds.</p>

<p>The most obvious short-sightedness of those which advocate for tree-based models over deep learning models is in the problem domain space. A common criticism of tabular deep learning approaches is that they seem like ‘tricks’, intricate and complex one-off methods which work sporadically, as opposed to reliably high-performance tree methods. The intellectual question Wolpert and Macready’s classic No Free Lunch Theorem makes us think about whenever we encounter claims of universal (or even near-universal) superiority, whether this is superiority in performance, consistency, or another metric, is: (near) universal across what subset of the problem space?</p>

<p>The datasets used by the well-publicized research surveys and more informal investigations showing the success of deep learning over tabular data are common benchmark datasets — the Forest Cover dataset, the Higgs Boson dataset, the California Housing dataset, the Wine Quality dataset, and so on. These datasets, even when evaluated in the dozens, are undoubtedly limited. Of course, we must acknowledge that it is much more difficult to perform an evaluative survey study with poorly behaved diverse datasets than these more homogenous benchmark datasets.</p>

<p>Yet those that tout the findings of such studies as bearing a broad verdict on the capabilities of neural networks on tabular data overlook the sheer breadth of tabular data domains in which machine learning models are applied.</p>

<blockquote>
  <p>It would not be unreasonable to suggest that out of all data forms, tabular data is the most diverse in structural qualities and domain. In this sense, ‘tabular data’ is more of a ‘big Other’ or even the ‘encompassing All’ than a specific type or structure of data.</p>
</blockquote>

<p>Let us consider some very real examples of tabular data problems which fall outside this narrow benchmark set.</p>

<ul>
  <li>With the increase of data signals acquirable from biological systems, biological datasets have increased significantly in feature richness from their state just one or two decades ago. The richness of these tabular datasets exposes the immense complexity of biological phenomena — intricate patterns across a multitude of scales, ranging from the local to the global, interacting with each other in innumerable ways. Deep neural networks are almost always used to model modern tabular datasets representing complex biological phenomena.</li>
  <li>Alternatively, content recommendation, an intricate domain requiring careful and high-capacity modeling power, more or less universally employs deep learning solutions. Netflix, for instance, reported “large improvements to our recommendations as measured by both offline and online metrics” when implementing deep learning. Similarly, a Google paper demonstrating the restructuring of deep learning as the paradigm powering YouTube recommendations writes that “In conjugation with other product areas across Google, YouTube has undergone a fundamental paradigm shift towards using deep learning as a general-purpose solution for nearly all learning problems.”</li>
  <li>Multimodal problems involve data of multiple different types (modalities). Many tabular datasets contain text attributes, such as an online product reviews dataset which contains a textual review as well as user and product information represented in tabular fashion. Recent house listing datasets contain images associated with standard tabular information such as the square footage, number of bathrooms, and so on. Alternatively, consider stock price data which captures time series data in addition to company information in tabular form. What if we want to also add the top ten financial headlines in addition to this tabular data and the time series data to forecast stock prices? Tree-based models, to my knowledge, cannot effectively address any of these multimodal problems. Deep learning, on the other hand, can be used to solve all of them.</li>
</ul>

<p>The fact is that data has changed since the 2000s and early 2010s, which is when many of the benchmark datasets used in studies which investigate performance discrepancies between deep learning and tree-based models. Tabular data is more fine-grained and complex than ever, capturing a wide range of incredibly complex phenomena. It is decidedly not true that deep learning functions as an unstructured, sparsely and randomly successful method in the context of tabular data.</p>

<p>Moreover, raw supervised learning is not just a singular problem in modeling tabular data.</p>

<ul>
  <li>Tabular data is often noisy, and we need methods to denoise noise or to otherwise develop ways to be robust to noise.</li>
  <li>Tabular data is often also always changing, so we need models which can structurally adapt to new data easily.</li>
  <li>We often also encounter many different datasets which share a fundamentally similar structure, so we would like to be able to transfer knowledge from one model to another.</li>
  <li>Sometimes tabular data is lacking and we need to generate realistic new data.</li>
  <li>We would also like to be able to develop very robust and well-generalized models with a very limited dataset.</li>
</ul>

<p>Again, as far as we are aware, tree-based models either cannot do the above or have difficulty doing the above. Neural networks, on the other hand, can do all of the following successfully, following adaptations to tabular data from the computer vision and natural language processing domains.</p>

<p>Of course, there are important legitimate general objections to neural networks.</p>

<p>One such objection is interpretability — the contention that deep neural networks are less interpretable than tree models. Interpretability is a particularly interesting idea because it is more an attribute of the human observer than the model itself. Is a gradient boosting model operating on hundreds of features really more intrinsically interpretable than a multi-layer perceptron trained on the same dataset? Tree models do indeed build easily understandable single-feature split conditions, but this in and of itself is not really quite valuable. Moreover, many or most models in popular tree ensembles like gradient boosting systems do not directly model the target, but rather the residual, which makes direct interpretability more difficult. What we care about more is the interaction between features. To effectively grasp at this, tree models and neural networks alike need external interpretability methods to collapse the complexity of decision making into key directions and forces. Thus, it is not clear that tree models are more inherently interpretable than neural network models on complex datasets.</p>

<p>The second primary objection is the laboriousness of tuning the meta-parameters of neural networks. This is an irreconcilable attribute of neural networks. Neural networks exist fundamentally more as ideals than asreal concrete algorithms, given the sheer diversity of possible configurations and approaches to the architecture, training curriculum, optimization processes, and so on. It should be noted that this is an even more pronounced problem for computer vision and natural language processing domains than tabular data, and that approaches have been proposed to mitigate this effect. Moreover, it should be noted that tree based models have a large number of meta-parameters too, which often require systematic meta-optimization.</p>

<p>A third objection is the difference in training time between neural networks and tree models (tree models are faster than neural networks). Anyone who brings up this objection as representative of tabular data demonstrates that they hold a quite specific conception of what tabular data is — namely, small &amp; simple datasets. On large and complex datasets, tree-based models are similarly expensive — time-wise and space-wise — to train. (On small &amp; simple tabular datasets, tree models tend to do better anyway. There is no contesting this. The problem hereis the falsely restricted space of what tabular data can be.)</p>

<p>Yet another objection is the inability of neural networks to effectively preprocess data in a way which reflects the effective meaning of the features. Popular tree-based models are able to interpret features in a way which is argued to be more effective for heterogeneous data. However, this does not bar the conjoined application of deep learning with preprocessing schemes, which can put neural networks on equal footing against tree-based models with respect to access to expressive features.</p>

<p>All of this is to challenge the notion that tree based models are superior to deep learning models, or even that tree based models are consistently or generally superior to deep learning models. It is not to suggest that deep learning is generally superior to tree-based models, either. The goal is instead to be holistic and fair.</p>

<p>To be clear, the following claims were made:</p>

<ul>
  <li>Deep learning works successfully on a certain well-defined domain of problems, just as tree-based methods work successfully on another well-defined problem domain.</li>
  <li>Deep learning can solve many problems beyond raw tabular-data-to-label supervised learning that tree-based methods cannot, such as modeling multimodal data (image, text, and/or audio, etc. data in addition to tabular data), denoising noisy data, transferring knowledge across datasets, successfully training on limited datasets, and generating data.</li>
  <li>Deep learning is indeed prone to difficulties, such as interpretability and meta-optimization. In most of these cases, however, tree-based models suffer from the same problems to a somewhat similar degree (on the sufficiently complex cases where deep learning would be at least somewhat successful in the first place — we have to make apples-to-apples comparisons here).</li>
</ul>

<p>The objective of the book is to substantiate these claims.</p>

<p><em>This material is taken from the Introduction of the book and revised.</em></p>

<hr>

<h2 id="book-description">Book Description</h2>

<p>Deep learning is one of the most powerful tools in the modern artificial intelligence landscape. While having been predominantly applied to highly specialized image, text, and signal datasets, this book synthesizes and presents novel deep learning approaches to a seemingly unlikely domain – tabular data. Whether for finance, business, security, medicine, or countless other domain, deep learning can help mine and model complex patterns in tabular data – an incredibly ubiquitous form of structured data.</p>

<p>Part I of the book offers a rigorous overview of machine learning principles, algorithms, and implementation skills relevant to holistically modeling and manipulating tabular data. Part II studies five dominant deep learning model designs – Artificial Neural Networks, Convolutional Neural Networks, Recurrent Neural Networks, Attention and Transformers, and Tree-Rooted Networks – through both their ‘default’ usage and their application to tabular data. Part III compounds the power of the previously covered methods by surveying strategies and techniques to supercharge deep learning systems: autoencoders, deep data generation, meta-optimization, multi-model arrangement, and neural network interpretability. Each chapter comes with extensive visualization, code, and relevant research coverage.</p>

<p><em>Modern Deep Learning for Tabular Data</em> is one of the first of its kind – a wide exploration of deep learning theory and applications to tabular data, integrating and documenting novel methods and techniques in the field. This book provides a strong conceptual and theoretical toolkit to approach challenging tabular data problems.</p>

          </article>

        </div>

        <style>
          details {
            user-select: none;
          }

          details>summary span.icon {
            width: 24px;
            height: 10px;
            transition: all 0.3s;
            margin-left: auto;
          }

          details[open] summary span.icon {
            transform: rotate(180deg);
          }

          summary {
            display: flex;
            cursor: pointer;
          }

          summary::-webkit-details-marker {
            display: none;
          }
        </style>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Andre  Ye. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>.
Last updated: November 02, 2024.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.3/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
